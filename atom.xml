<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>who&#39;s coder ?</title>
  
  <subtitle>Life is always hard!</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://whosc.github.io/"/>
  <updated>2018-01-23T03:45:44.522Z</updated>
  <id>https://whosc.github.io/</id>
  
  <author>
    <name>whosc</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>给laravel 框架的css 、js 设置一个可以手动开关的开发模式</title>
    <link href="https://whosc.github.io/set-debug-mode-for-laravel-css-js-cache/"/>
    <id>https://whosc.github.io/set-debug-mode-for-laravel-css-js-cache/</id>
    <published>2018-01-22T16:00:00.000Z</published>
    <updated>2018-01-23T03:45:44.522Z</updated>
    
    <content type="html"><![CDATA[<p>最近的新项目使用到了laravel 框架开发项目，修改js 的时候传到线上的服务器上，一直刷新没有反应，琢磨着给他设置一个开发模式，可以手动设置开、关。这样在测试的时候方便一些，同时不影响正常的线上网站缓存。</p><h2 id="定义一个用来设置的常量"><a href="#定义一个用来设置的常量" class="headerlink" title="定义一个用来设置的常量"></a>定义一个用来设置的常量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">define(&quot;CSSJS_DEBUG&quot; , &apos;0&apos;);                        // 开启css js 调试模式，不缓存。</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="在自定义的自动加载的方法中，添加一个方法"><a href="#在自定义的自动加载的方法中，添加一个方法" class="headerlink" title="在自定义的自动加载的方法中，添加一个方法."></a>在自定义的自动加载的方法中，添加一个方法.</h2><p>常量设置成真的时候开启开发模式，不缓存css 和js ,否则没小时自动更新一下缓存。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * css js  调试模式不缓存</span><br><span class="line"> * </span><br><span class="line"> * @return str</span><br><span class="line"> */</span><br><span class="line">function cssJsDebug() &#123;</span><br><span class="line"></span><br><span class="line">if(CSSJS_DEBUG)&#123;</span><br><span class="line">return &apos;?v=&apos;.time();</span><br><span class="line">&#125;else&#123;</span><br><span class="line">return &apos;?v=&apos;. date(&quot;Ymdi&quot;,time());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="给新加的css-js-添加后缀，这样可以不缓存css-js-的文件。如下："><a href="#给新加的css-js-添加后缀，这样可以不缓存css-js-的文件。如下：" class="headerlink" title="给新加的css js 添加后缀，这样可以不缓存css js 的文件。如下："></a>给新加的css js 添加后缀，这样可以不缓存css js 的文件。如下：</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;link href=&quot;&#123;&#123;asset(&apos;admin/custom/plugins/layui/css/layui.css&apos;.cssJsDebug() )&#125;&#125;&quot; rel=&quot;stylesheet&quot;&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;&#123;&#123;asset(&apos;admin/js/jquery-2.1.1.min.js&apos;.cssJsDebug() )&#125;&#125;&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近的新项目使用到了laravel 框架开发项目，修改js 的时候传到线上的服务器上，一直刷新没有反应，琢磨着给他设置一个开发模式，可以手动设置开、关。这样在测试的时候方便一些，同时不影响正常的线上网站缓存。&lt;/p&gt;
&lt;h2 id=&quot;定义一个用来设置的常量&quot;&gt;&lt;a href=&quot;#定义一个用来设置的常量&quot; class=&quot;headerlink&quot; title=&quot;定义一个用来设置的常量&quot;&gt;&lt;/a&gt;定义一个用来设置的常量&lt;/h2&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;define(&amp;quot;CSSJS_DEBUG&amp;quot; , &amp;apos;0&amp;apos;);                        // 开启css js 调试模式，不缓存。&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技术" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="laravel" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/laravel/"/>
    
    
      <category term="php" scheme="https://whosc.github.io/tags/php/"/>
    
      <category term="laravel" scheme="https://whosc.github.io/tags/laravel/"/>
    
  </entry>
  
  <entry>
    <title>Magento can not delete attribute options</title>
    <link href="https://whosc.github.io/magento%20can%20not%20delete%20attribute%20options/"/>
    <id>https://whosc.github.io/magento can not delete attribute options/</id>
    <published>2018-01-21T16:00:00.000Z</published>
    <updated>2018-01-22T06:34:31.938Z</updated>
    
    <content type="html"><![CDATA[<p>The attribute has more than 200 options.  Is maybe the high number of the options causing this problem?</p><p>The nginx error log below<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2018/01/22 14:21:23 [error] 4034#0: *335424 FastCGI sent in stderr: &quot;PHP message: PHP Warning:  Unknown: Input variables exceeded 1000. </span><br><span class="line">To increase the limit change max_input_vars in php.ini. in Unknown on line 0&quot; while reading response header from upstream</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>Solution:</p><h3 id="1-change-the-php-ini-config-of-max-input-vars-1000-to-max-input-vars-5000"><a href="#1-change-the-php-ini-config-of-max-input-vars-1000-to-max-input-vars-5000" class="headerlink" title="1.change the php.ini config of max_input_vars = 1000 to  max_input_vars = 5000"></a>1.change the php.ini config of <code>max_input_vars</code> = 1000 to  <code>max_input_vars</code> = 5000</h3><h3 id="2-restart-or-reload-the-php-fpm-then-have-a-try"><a href="#2-restart-or-reload-the-php-fpm-then-have-a-try" class="headerlink" title="2.restart or reload the php-fpm. then have a try."></a>2.restart or reload the php-fpm. then have a try.</h3>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;The attribute has more than 200 options.  Is maybe the high number of the options causing this problem?&lt;/p&gt;
&lt;p&gt;The nginx error log below&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;2018/01/22 14:21:23 [error] 4034#0: *335424 FastCGI sent in stderr: &amp;quot;PHP message: PHP Warning:  Unknown: Input variables exceeded 1000. &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;To increase the limit change max_input_vars in php.ini. in Unknown on line 0&amp;quot; while reading response header from upstream&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="技术" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="Magento" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/Magento/"/>
    
    
      <category term="magento" scheme="https://whosc.github.io/tags/magento/"/>
    
  </entry>
  
  <entry>
    <title>Add A Magento Currency Exchange Update Service</title>
    <link href="https://whosc.github.io/add-a-magento-currency-exchange-update-service/"/>
    <id>https://whosc.github.io/add-a-magento-currency-exchange-update-service/</id>
    <published>2018-01-15T16:00:00.000Z</published>
    <updated>2018-01-16T07:11:28.288Z</updated>
    
    <content type="html"><![CDATA[<p>The default currency exchange rate updater that ships with Magento Community Edition is broken.  </p><p>So, we need to replace the default Webservicex with another, working exchange rate updater.</p><h2 id="Custom-Module"><a href="#Custom-Module" class="headerlink" title="Custom Module"></a>Custom Module</h2><p><strong>File: app/etc/modules/TC_Currency.xml</strong><br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;config&gt;</span><br><span class="line">    &lt;modules&gt;</span><br><span class="line">        &lt;TC_Currency&gt;</span><br><span class="line">            &lt;active&gt;true&lt;/active&gt;</span><br><span class="line">            &lt;codePool&gt;local&lt;/codePool&gt;</span><br><span class="line">            &lt;depends&gt;</span><br><span class="line">                &lt;Mage_Adminhtml /&gt;</span><br><span class="line">                &lt;Mage_Core /&gt;</span><br><span class="line">            &lt;/depends&gt;</span><br><span class="line">        &lt;/TC_Currency&gt;</span><br><span class="line">    &lt;/modules&gt;</span><br><span class="line">&lt;/config&gt;</span><br></pre></td></tr></table></figure></p><p><strong>File: app/code/local/TC/Currency/etc/config.xml</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot;?&gt;</span><br><span class="line">&lt;config&gt;</span><br><span class="line">    &lt;modules&gt;</span><br><span class="line">        &lt;TC_Currency&gt;</span><br><span class="line">            &lt;version&gt;1.0.0&lt;/version&gt;</span><br><span class="line">        &lt;/TC_Currency&gt;</span><br><span class="line">    &lt;/modules&gt;</span><br><span class="line">    &lt;global&gt;</span><br><span class="line">        &lt;currency&gt;</span><br><span class="line">            &lt;import&gt;</span><br><span class="line">                &lt;services&gt;</span><br><span class="line">                    &lt;yahoofinance&gt;</span><br><span class="line">                        &lt;name&gt;Yahoo Finance&lt;/name&gt;</span><br><span class="line">                        &lt;model&gt;TC_Currency_Model_Yahoo&lt;/model&gt;</span><br><span class="line">                    &lt;/yahoofinance&gt;</span><br><span class="line">                &lt;/services&gt;</span><br><span class="line">            &lt;/import&gt;</span><br><span class="line">        &lt;/currency&gt;</span><br><span class="line">        &lt;models&gt;</span><br><span class="line">            &lt;tc_currency&gt;</span><br><span class="line">                &lt;class&gt;TC_Currency_Model_Yahoo&lt;/class&gt;</span><br><span class="line">            &lt;/tc_currency&gt;</span><br><span class="line">        &lt;/models&gt;</span><br><span class="line">    &lt;/global&gt;</span><br><span class="line">&lt;/config&gt;</span><br></pre></td></tr></table></figure><p><strong>File: app/code/local/TC/Currency/Model/Yahoo.php</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">class TC_Currency_Model_Yahoo extends Mage_Directory_Model_Currency_Import_Abstract</span><br><span class="line">&#123;</span><br><span class="line">    protected $_url = &apos;http://quote.yahoo.com/d/quotes.csv?s=&#123;&#123;CURRENCY_FROM&#125;&#125;&#123;&#123;CURRENCY_TO&#125;&#125;=X&amp;f=l1&amp;e=.csv&apos;;</span><br><span class="line">    protected $_messages = array();</span><br><span class="line"></span><br><span class="line">    protected function _convert($currencyFrom, $currencyTo, $retry=0) &#123;</span><br><span class="line">        $url = str_replace(&apos;&#123;&#123;CURRENCY_FROM&#125;&#125;&apos;, $currencyFrom, $this-&gt;_url);</span><br><span class="line">        $url = str_replace(&apos;&#123;&#123;CURRENCY_TO&#125;&#125;&apos;, $currencyTo, $url);</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            sleep(1);</span><br><span class="line">            $handle = fopen($url, &quot;r&quot;);</span><br><span class="line">            $exchange_rate = fread($handle, 2000);</span><br><span class="line">            fclose($handle);</span><br><span class="line"></span><br><span class="line">            if (!$exchange_rate) &#123;</span><br><span class="line">                $this-&gt;_messages[] = Mage::helper(&apos;directory&apos;)-&gt;__(&apos;Cannot retrieve rate from %s&apos;, $url);</span><br><span class="line">                return null;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            return (float) $exchange_rate * 1.0;</span><br><span class="line">        &#125; catch (Exception $e) &#123;</span><br><span class="line">            if ($retry == 0) &#123;</span><br><span class="line">                $this-&gt;_convert($currencyFrom, $currencyTo, 1);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                $this-&gt;_messages[] = Mage::helper(&apos;directory&apos;)-&gt;__(&apos;Cannot retrieve rate from %s&apos;, $url);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>By default, the Webservicex model sits at a deeper level than this, we’re just keeping the structure simple.</p><p>Our module is finished. You’ll need to flush the caches once this has been uploaded to your Magento installation. The currency update service appears in the following select lists:</p><ul><li>Admin &gt; System &gt; Manage Currency &gt; Rates  </li><li>Admin &gt; System &gt; Configuration &gt; Currency Setup &gt; Scheduled Import Settings &gt; [Service]</li></ul><p><strong>[Note]:</strong> the <code>http://quote.yahoo.com/d/quotes.csv?s==X&amp;f=l1&amp;e=.csv</code> is not work now, you need replace an api which can get the data you want !</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;The default currency exchange rate updater that ships with Magento Community Edition is broken.  &lt;/p&gt;
&lt;p&gt;So, we need to replace the default Webservicex with another, working exchange rate updater.&lt;/p&gt;
&lt;h2 id=&quot;Custom-Module&quot;&gt;&lt;a href=&quot;#Custom-Module&quot; class=&quot;headerlink&quot; title=&quot;Custom Module&quot;&gt;&lt;/a&gt;Custom Module&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;File: app/etc/modules/TC_Currency.xml&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="技术" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="Magento" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/Magento/"/>
    
    
      <category term="magento" scheme="https://whosc.github.io/tags/magento/"/>
    
  </entry>
  
  <entry>
    <title>Magento1.x paypal 支付不成功问题</title>
    <link href="https://whosc.github.io/magento-paypal-need-curl-update/"/>
    <id>https://whosc.github.io/magento-paypal-need-curl-update/</id>
    <published>2018-01-14T16:00:00.000Z</published>
    <updated>2018-01-15T06:02:45.059Z</updated>
    
    <content type="html"><![CDATA[<p>之前magento 订单一直正常，后来查看订单的状态一直是在pengding 状态，查看后台报错了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Your current version of cURL php5 module is 7.29.0, which can prevent services that require TLS v1.2 from working correctly. It is recommended to update your cURL php5 module to version 7.34.0 or higher.</span><br></pre></td></tr></table></figure></p><a id="more"></a><p>问题明显是要我们升级linux curl 的版本</p><h3 id="查看curl-的版本"><a href="#查看curl-的版本" class="headerlink" title="查看curl 的版本"></a>查看curl 的版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --version</span><br></pre></td></tr></table></figure><h3 id="创建一个源文件-并添加下面的内容"><a href="#创建一个源文件-并添加下面的内容" class="headerlink" title="创建一个源文件,并添加下面的内容:"></a>创建一个源文件,并添加下面的内容:</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> vim  /etc/yum.repos.d/city-fan.repo</span><br><span class="line"> </span><br><span class="line">[CityFan]</span><br><span class="line">name=City Fan Repo</span><br><span class="line">baseurl=http://www.city-fan.org/ftp/contrib/yum-repo/rhel$releasever/$basearch/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure><h3 id="开启源并且更新curl"><a href="#开启源并且更新curl" class="headerlink" title="开启源并且更新curl"></a>开启源并且更新curl</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install epel-release -y</span><br><span class="line"></span><br><span class="line">yum update curl</span><br></pre></td></tr></table></figure><h3 id="检查curl-是否更新成功"><a href="#检查curl-是否更新成功" class="headerlink" title="检查curl 是否更新成功"></a>检查curl 是否更新成功</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl --version</span><br></pre></td></tr></table></figure><h3 id="重启php-fpm"><a href="#重启php-fpm" class="headerlink" title="重启php-fpm"></a>重启php-fpm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">path/php-fpm restart</span><br></pre></td></tr></table></figure><p>再次登录在magento 后台，上面的报错后消失。测试paypal 支付，成功！</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;之前magento 订单一直正常，后来查看订单的状态一直是在pengding 状态，查看后台报错了&lt;br&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;Your current version of cURL php5 module is 7.29.0, which can prevent services that require TLS v1.2 from working correctly. It is recommended to update your cURL php5 module to version 7.34.0 or higher.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="技术" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="Magento" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/Magento/"/>
    
    
      <category term="magento" scheme="https://whosc.github.io/tags/magento/"/>
    
  </entry>
  
  <entry>
    <title>php 实现生成阿里云api 签名的代码示例</title>
    <link href="https://whosc.github.io/create-aliyun-api-function/"/>
    <id>https://whosc.github.io/create-aliyun-api-function/</id>
    <published>2018-01-12T16:00:00.000Z</published>
    <updated>2018-01-13T03:48:56.577Z</updated>
    
    <content type="html"><![CDATA[<p> 阿里云的api 签名文档实在是看着难受，不怎么清晰。 自己对接看了半天，希望对看到的人有些帮助。<br><a id="more"></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php  </span><br><span class="line">// 注意使用GMT时间  </span><br><span class="line">date_default_timezone_set(&quot;GMT&quot;);  </span><br><span class="line">$dateTimeFormat = &apos;Y-m-d\TH:i:s\Z&apos;; // ISO8601规范  </span><br><span class="line">$accessKeyId = &apos;accessKeyId&apos;;      // 这里填写您的Access Key ID  </span><br><span class="line">$accessKeySecret = &apos;accessKeySecret&apos;;  // 这里填写您的Access Key Secret  </span><br><span class="line">$SignatureNonce  =  time().rand(100000000,200000000);</span><br><span class="line"></span><br><span class="line">$data = array(  </span><br><span class="line">    // 公共参数  </span><br><span class="line">    &apos;Format&apos; =&gt; &apos;json&apos;,  </span><br><span class="line">    &apos;Version&apos; =&gt; &apos;2014-08-15&apos;,  </span><br><span class="line">    &apos;AccessKeyId&apos; =&gt; $accessKeyId,  </span><br><span class="line">    &apos;SignatureMethod&apos; =&gt; &apos;HMAC-SHA1&apos;,  </span><br><span class="line">    &apos;SignatureNonce&apos;=&gt; $SignatureNonce,  </span><br><span class="line">    &apos;Timestamp&apos; =&gt; date($dateTimeFormat),  </span><br><span class="line">&apos;SignatureVersion&apos; =&gt; &apos;1.0&apos;,  </span><br><span class="line">    // 接口参数  </span><br><span class="line">    &apos;Action&apos;=&gt;&apos;DescribeDBInstanceAttribute&apos;,  </span><br><span class="line">    &apos;DBInstanceId&apos; =&gt; &apos;DBInstanceId&apos;, // 这里填写您的实例ID</span><br><span class="line">    </span><br><span class="line">);  </span><br><span class="line"></span><br><span class="line">$data[&apos;Signature&apos;] = computeSignature($data, $accessKeySecret);  </span><br><span class="line">$url  = &apos;https://rds.aliyuncs.com/?&apos;;</span><br><span class="line"></span><br><span class="line">$pageContents = get_https_data($url . http_build_query($data),$postData=&apos;&apos;,$header=&apos;&apos;,$isheader=0,$proxy=&apos;&apos;,$cookie_file=&apos;&apos;,$isSave=0,$debug=0,$sslVersion=0,$time=30,$gzip=0);</span><br><span class="line"></span><br><span class="line">print_r(json_decode($pageContents));exit;</span><br><span class="line">// 发送请求  </span><br><span class="line"> echo $url . http_build_query($data).&quot;\r\n&quot;;  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">function get_https_data($url,$postData,$header=array(),$isheader=0,$proxy=&apos;&apos;,$cookie_file=&apos;&apos;,$isSave=0,$debug=0,$sslVersion=0,$time=30,$gzip=0,$autoRedirect=&apos;&apos;)&#123;</span><br><span class="line">    $ch = curl_init();</span><br><span class="line">curl_setopt($ch,CURLOPT_URL, $url);</span><br><span class="line">if(!empty($postData))&#123;</span><br><span class="line">    curl_setopt ($ch, CURLOPT_POST, true);</span><br><span class="line">    curl_setopt ($ch, CURLOPT_POSTFIELDS, $postData);</span><br><span class="line">&#125;</span><br><span class="line">curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);</span><br><span class="line">curl_setopt($ch, CURLOPT_CONNECTTIMEOUT, 5);</span><br><span class="line">curl_setopt($ch, CURLOPT_TIMEOUT,$time);</span><br><span class="line">curl_setopt($ch, CURLOPT_USERAGENT, &apos;Mozilla/5.0 (Windows NT 5.1; rv:44.0) Gecko/20100101 Firefox/44.0&apos;);</span><br><span class="line">curl_setopt($ch, CURLINFO_HEADER_OUT, TRUE);</span><br><span class="line">if(!empty($header))&#123;</span><br><span class="line">    curl_setopt($ch, CURLOPT_HTTPHEADER,$header);</span><br><span class="line">&#125;</span><br><span class="line">if(!empty($isheader))&#123;</span><br><span class="line">    curl_setopt($ch, CURLOPT_HEADER, $isheader);</span><br><span class="line">&#125;</span><br><span class="line">if(!empty($autoRedirect))&#123;</span><br><span class="line">curl_setopt($ch, CURLOPT_FOLLOWLOCATION, 1);</span><br><span class="line">&#125;</span><br><span class="line">if(!empty($cookie_file))&#123;</span><br><span class="line">if(!empty($isSave))&#123;</span><br><span class="line">// 存放Cookie信息</span><br><span class="line">curl_setopt ( $ch, CURLOPT_COOKIEJAR, $cookie_file ); </span><br><span class="line">&#125;else&#123;</span><br><span class="line">// 读取文件所储存的Cookie信息</span><br><span class="line">        curl_setopt ( $ch, CURLOPT_COOKIEFILE, $cookie_file ); </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">if(!empty($sslVersion))&#123; </span><br><span class="line">    curl_setopt($ch, CURLOPT_SSLVERSION,$sslVersion); </span><br><span class="line">&#125;</span><br><span class="line">if(!empty($proxy))&#123;</span><br><span class="line">    curl_setopt($ch, CURLOPT_PROXY, $proxy);</span><br><span class="line">&#125;</span><br><span class="line">if(!empty($debug))&#123;</span><br><span class="line">    curl_setopt($ch,CURLOPT_VERBOSE,true);</span><br><span class="line">    curl_setopt($ch,CURLOPT_FAILONERROR,TRUE);</span><br><span class="line">&#125;</span><br><span class="line">if (!empty($gzip)) &#123;</span><br><span class="line">curl_setopt($ch, CURLOPT_ENCODING, &apos;gzip&apos; ); </span><br><span class="line">&#125;</span><br><span class="line">    curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);</span><br><span class="line">    curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);</span><br><span class="line"></span><br><span class="line">$html = curl_exec($ch);</span><br><span class="line">if(!empty($debug))&#123; </span><br><span class="line">     // print_r(curl_error($ch));</span><br><span class="line"> $http_code = curl_getinfo($ch);</span><br><span class="line"> // print_r($http_code);</span><br><span class="line"> $htmls = array();</span><br><span class="line"> $htmls[&apos;http_code&apos;] = $http_code[&apos;http_code&apos;];</span><br><span class="line"> $htmls[&apos;html&apos;] = $html;</span><br><span class="line"> $html = $htmls;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">curl_close($ch);</span><br><span class="line">return $html;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function percentEncode($str)  </span><br><span class="line">&#123;  </span><br><span class="line">    // 使用urlencode编码后，将&quot;+&quot;,&quot;*&quot;,&quot;%7E&quot;做替换即满足ECS API规定的编码规范  </span><br><span class="line">    $res = urlencode($str);  </span><br><span class="line">    $res = preg_replace(&apos;/\+/&apos;, &apos;%20&apos;, $res);  </span><br><span class="line">    $res = preg_replace(&apos;/\*/&apos;, &apos;%2A&apos;, $res);  </span><br><span class="line">    $res = preg_replace(&apos;/%7E/&apos;, &apos;~&apos;, $res);  </span><br><span class="line">    return $res;  </span><br><span class="line">&#125;  </span><br><span class="line">   </span><br><span class="line">function computeSignature($parameters, $accessKeySecret)  </span><br><span class="line">&#123;  </span><br><span class="line">    // 将参数Key按字典顺序排序  </span><br><span class="line">    ksort($parameters);  </span><br><span class="line">    // 生成规范化请求字符串  </span><br><span class="line">    $canonicalizedQueryString = &apos;&apos;;  </span><br><span class="line">    foreach($parameters as $key =&gt; $value)  </span><br><span class="line">    &#123;  </span><br><span class="line">    $canonicalizedQueryString .= &apos;&amp;&apos; . percentEncode($key)  </span><br><span class="line">        . &apos;=&apos; . percentEncode($value);  </span><br><span class="line">    &#125;  </span><br><span class="line">    // 生成用于计算签名的字符串 stringToSign  </span><br><span class="line">    $stringToSign = &apos;GET&amp;%2F&amp;&apos; . percentencode(substr($canonicalizedQueryString, 1));  </span><br><span class="line">    //echo &quot;&lt;br&gt;&quot;.$stringToSign.&quot;&lt;br&gt;&quot;;  </span><br><span class="line">    // 计算签名，注意accessKeySecret后面要加上字符&apos;&amp;&apos;  </span><br><span class="line">    $signature = base64_encode(hash_hmac(&apos;sha1&apos;, $stringToSign, $accessKeySecret . &apos;&amp;&apos;, true));  </span><br><span class="line">    return $signature;  </span><br><span class="line">&#125;  </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt; 阿里云的api 签名文档实在是看着难受，不怎么清晰。 自己对接看了半天，希望对看到的人有些帮助。&lt;br&gt;
    
    </summary>
    
      <category term="技术" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="php" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/php/"/>
    
    
      <category term="php" scheme="https://whosc.github.io/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>php7 安装imap 扩展</title>
    <link href="https://whosc.github.io/install-php7-imap/"/>
    <id>https://whosc.github.io/install-php7-imap/</id>
    <published>2018-01-10T16:00:00.000Z</published>
    <updated>2018-01-12T01:21:49.412Z</updated>
    
    <content type="html"><![CDATA[<h3 id="安装-php-imap"><a href="#安装-php-imap" class="headerlink" title="安装 php-imap"></a>安装 php-imap</h3><p> 网上安装php7-imap 扩展的教程大多都太老了，不适用与现在在php7的版本，走了不少弯路，希望能帮到看到的人。<br><a id="more"></a></p><h3 id="php-v-查看当前php的版本"><a href="#php-v-查看当前php的版本" class="headerlink" title="php -v //查看当前php的版本"></a>php -v //查看当前php的版本</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@vultr ~]# php -v</span><br><span class="line">PHP 7.1.12 (cli) (built: Nov 27 2017 11:01:12) ( NTS )</span><br><span class="line">Copyright (c) 1997-2017 The PHP Group</span><br><span class="line">Zend Engine v3.1.0, Copyright (c) 1998-2017 Zend Technologies</span><br><span class="line">    with Zend OPcache v7.1.12, Copyright (c) 1999-2017, by Zend Technologies</span><br></pre></td></tr></table></figure><h3 id="查看已经安装的扩展-yum-list-installed-grep-php"><a href="#查看已经安装的扩展-yum-list-installed-grep-php" class="headerlink" title="查看已经安装的扩展  yum list installed | grep php"></a>查看已经安装的扩展  yum list installed | grep php</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@vultr ~]# yum list installed | grep php</span><br><span class="line">mod_php71u.x86_64                   7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-bcmath.x86_64                7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-cli.x86_64                   7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-common.x86_64                7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-devel.x86_64                 7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-gd.x86_64                    7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-intl.x86_64                  7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-json.x86_64                  7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-mbstring.x86_64              7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-mcrypt.x86_64                7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-mysqlnd.x86_64               7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-opcache.x86_64               7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-pdo.x86_64                   7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-soap.x86_64                  7.1.12-1.ius.centos7               @ius     </span><br><span class="line">php71u-xml.x86_64                   7.1.12-1.ius.centos7               @ius</span><br></pre></td></tr></table></figure><h3 id="安装php71u-imap"><a href="#安装php71u-imap" class="headerlink" title="安装php71u-imap"></a>安装php71u-imap</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum insatll php71u-imap -y</span><br></pre></td></tr></table></figure><h3 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cp /usr/lib64/php/modules/imap.so  /usr/local/php/lib/php/extensions/no-debug-non-zts-20160303/imap.so</span><br><span class="line"></span><br><span class="line">vim path/php.ini</span><br><span class="line"></span><br><span class="line">添加  extension = &quot;imap.so&quot;</span><br></pre></td></tr></table></figure><h3 id="重启php-fpm"><a href="#重启php-fpm" class="headerlink" title="重启php-fpm"></a>重启php-fpm</h3><h3 id="不存在php71u-soap-的时候。"><a href="#不存在php71u-soap-的时候。" class="headerlink" title="不存在php71u-soap 的时候。"></a>不存在php71u-soap 的时候。</h3><blockquote><p>请到这里下载<a href="https://pkgs.org/download/php70u-imap" target="_blank" rel="noopener">https://pkgs.org/download/php70u-imap</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;安装-php-imap&quot;&gt;&lt;a href=&quot;#安装-php-imap&quot; class=&quot;headerlink&quot; title=&quot;安装 php-imap&quot;&gt;&lt;/a&gt;安装 php-imap&lt;/h3&gt;&lt;p&gt; 网上安装php7-imap 扩展的教程大多都太老了，不适用与现在在php7的版本，走了不少弯路，希望能帮到看到的人。&lt;br&gt;
    
    </summary>
    
      <category term="技术" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="运维" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/%E8%BF%90%E7%BB%B4/"/>
    
    
      <category term="php" scheme="https://whosc.github.io/tags/php/"/>
    
      <category term="运维" scheme="https://whosc.github.io/tags/%E8%BF%90%E7%BB%B4/"/>
    
  </entry>
  
  <entry>
    <title>docker 常用基础命令！</title>
    <link href="https://whosc.github.io/docker-base-command-01/"/>
    <id>https://whosc.github.io/docker-base-command-01/</id>
    <published>2018-01-09T16:00:00.000Z</published>
    <updated>2018-01-12T01:21:49.411Z</updated>
    
    <content type="html"><![CDATA[<h3 id="卸载老版本的-docker"><a href="#卸载老版本的-docker" class="headerlink" title="卸载老版本的 docker"></a>卸载老版本的 docker</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum remove docker \</span><br><span class="line">                  docker-common \</span><br><span class="line">                  docker-selinux \</span><br><span class="line">                  docker-engine</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="安装docker"><a href="#安装docker" class="headerlink" title="安装docker"></a>安装docker</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install docker</span><br></pre></td></tr></table></figure><h3 id="运行容器"><a href="#运行容器" class="headerlink" title="运行容器"></a>运行容器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker run </span><br><span class="line">-t :在新的容器中制定一个伪终端或终端</span><br><span class="line">-i :允许你对容器内的标准输入 (STDIN) 进行交互。</span><br><span class="line">-d :让容器在后台运行</span><br><span class="line">-P :将容器内部使用的网络端口映射到我们使用的主机上 </span><br><span class="line">-p :绑定指定端口</span><br><span class="line"></span><br><span class="line">示例：docker run -d -p 5000:5000 training/webapp python app.py</span><br><span class="line"></span><br><span class="line">exit : 从交互式的容器中退出</span><br></pre></td></tr></table></figure><h3 id="停止容器"><a href="#停止容器" class="headerlink" title="停止容器"></a>停止容器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">dokcer stop [容器名|容器ID]</span><br><span class="line"></span><br><span class="line">停止所有容器</span><br><span class="line">docker stop $(docker ps -a -q)</span><br></pre></td></tr></table></figure><h3 id="查看正在运行的容器"><a href="#查看正在运行的容器" class="headerlink" title="查看正在运行的容器"></a>查看正在运行的容器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">docker ps</span><br></pre></td></tr></table></figure><h3 id="查看容器内标准输出"><a href="#查看容器内标准输出" class="headerlink" title="查看容器内标准输出"></a>查看容器内标准输出</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker logs [容器名|容器ID]</span><br></pre></td></tr></table></figure><h3 id="查看容器的网络端口"><a href="#查看容器的网络端口" class="headerlink" title="查看容器的网络端口"></a>查看容器的网络端口</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker port [容器名|容器ID]</span><br></pre></td></tr></table></figure><h3 id="查看容器内运行的进程"><a href="#查看容器内运行的进程" class="headerlink" title="查看容器内运行的进程"></a>查看容器内运行的进程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker top</span><br></pre></td></tr></table></figure><h3 id="查看Docker的底层信息"><a href="#查看Docker的底层信息" class="headerlink" title="查看Docker的底层信息"></a>查看Docker的底层信息</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">docker inspect</span><br><span class="line">runoob@runoob:~$ docker inspect determined_swanson</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        &quot;Id&quot;: &quot;7a38a1ad55c6914b360b565819604733db751d86afd2575236a70a2519527361&quot;,</span><br><span class="line">        &quot;Created&quot;: &quot;2016-05-09T16:20:45.427996598Z&quot;,</span><br><span class="line">        &quot;Path&quot;: &quot;python&quot;,</span><br><span class="line">        &quot;Args&quot;: [</span><br><span class="line">            &quot;app.py&quot;</span><br><span class="line">        ],</span><br><span class="line">        &quot;State&quot;: &#123;</span><br><span class="line">            &quot;Status&quot;: &quot;running&quot;,</span><br><span class="line">......</span><br></pre></td></tr></table></figure><h3 id="重启容器"><a href="#重启容器" class="headerlink" title="重启容器"></a>重启容器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker star [容器名|容器ID]</span><br></pre></td></tr></table></figure><h3 id="删除容器-删除前需要先停止"><a href="#删除容器-删除前需要先停止" class="headerlink" title="删除容器,删除前需要先停止"></a>删除容器,删除前需要先停止</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker rm [容器名|容器id]</span><br><span class="line"></span><br><span class="line">docker rm $(docker ps -a -q)</span><br></pre></td></tr></table></figure><h3 id="列出所有镜像"><a href="#列出所有镜像" class="headerlink" title="列出所有镜像"></a>列出所有镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure><h3 id="查找镜像"><a href="#查找镜像" class="headerlink" title="查找镜像"></a>查找镜像</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search mysql</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;卸载老版本的-docker&quot;&gt;&lt;a href=&quot;#卸载老版本的-docker&quot; class=&quot;headerlink&quot; title=&quot;卸载老版本的 docker&quot;&gt;&lt;/a&gt;卸载老版本的 docker&lt;/h3&gt;&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ sudo yum remove docker \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  docker-common \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  docker-selinux \&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;                  docker-engine&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="技术" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/"/>
    
      <category term="docker" scheme="https://whosc.github.io/categories/%E6%8A%80%E6%9C%AF/docker/"/>
    
    
      <category term="docker" scheme="https://whosc.github.io/tags/docker/"/>
    
  </entry>
  
</feed>
